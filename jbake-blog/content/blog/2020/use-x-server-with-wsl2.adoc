= Use X Server with wsl2 
Albert Lacambra Basil 
:jbake-title: Use X Server with wsl2 
:description: Use graphical applications in wsl2 using a siimple X Server 
:jbake-date: 2020-08-31 
:jbake-type: post 
:jbake-status: published 
:jbake-tags: wsl2
:doc-id: use-x-server-with-wsl2 

== Export the DISPLAY var

Export the _DISPLAY_ variable in term initialization, .bashrc, .basch_profile, zshrc, ... or whatever
[source, shell]
----
export DISPLAY=$(grep -m 1 nameserver /etc/resolv.conf | awk '{print $2}'):0.0
----

Basically it just fetch the IP of the host
[source, shell]
----
>  cat /etc/resolv.conf

# This file was automatically generated by WSL. To stop automatic generation of this file, add the following entry to /etc/wsl.conf:
# [network]
# generateResolvConf = false
nameserver 172.20.150.18
----

== Install and set up Xming Server 
open the file X0.hosts in the install dorectory and insert the ip of the wsl2 vm.

If you do not know it, use _ifconfig_ or look at Xming logs for a line like
_Xming.exe: client 4 rejected from IP XXX.XXX.XXX.XXX_
_XXX.XXX.XXX.XXX_ is the IP to add.

Check also that the display number used when launching the server match the one exported in the _DISPLAY_ var:
_G:\...\Xming.exe *:0* -clipboard -multiwindow_

In this case number 0.